<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learning Modality Effectiveness</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="chart-container">
        <canvas id="modalityChart"></canvas>
        <div id="annotationTooltip" class="annotation-tooltip">
            Research shows that students who actively engage with material retain significantly more than passive learners. The 50% threshold marks where learning transitions from passive consumption to active participation.
        </div>
    </div>

    <script>
        const labels = [
            'üìñ Reading text only',
            'üé• Watching video lectures',
            'üñºÔ∏è Viewing static diagrams',
            '‚ñ∂Ô∏è Watching animations',
            'üëÜ Interactive simulations',
            'üí° Interactive sims with prediction'
        ];

        const data = [15, 25, 35, 45, 75, 90];

        const backgroundColors = [
            '#666666',  // Reading - dark gray
            '#777777',  // Video - medium gray
            '#87CEEB',  // Diagrams - light blue
            '#6BB3D9',  // Animations - slightly darker light blue
            '#4169E1',  // Interactive - royal blue
            '#FFD700'   // With prediction - gold
        ];

        const borderColors = [
            '#555555',
            '#666666',
            '#5FACD4',
            '#5A9FC4',
            '#3157C7',
            '#E6C200'
        ];

        const ctx = document.getElementById('modalityChart').getContext('2d');

        const chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Knowledge Retention After One Week (%)',
                    data: data,
                    backgroundColor: backgroundColors,
                    borderColor: borderColors,
                    borderWidth: 2,
                    borderRadius: 6,
                    barThickness: 35
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                layout: {
                    padding: {
                        top: 20,
                        right: 30,
                        bottom: 10,
                        left: 10
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Knowledge Retention After One Week (%)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            },
                            color: '#333'
                        },
                        ticks: {
                            callback: function(value) {
                                return value + '%';
                            },
                            font: {
                                size: 12
                            }
                        },
                        grid: {
                            color: 'rgba(0, 0, 0, 0.1)'
                        }
                    },
                    y: {
                        ticks: {
                            font: {
                                size: 13
                            },
                            color: '#333'
                        },
                        grid: {
                            display: false
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Learning Modality Effectiveness',
                        font: {
                            size: 20,
                            weight: 'bold'
                        },
                        color: '#222',
                        padding: {
                            bottom: 10
                        }
                    },
                    subtitle: {
                        display: true,
                        text: 'Why interactive simulations produce superior learning outcomes',
                        font: {
                            size: 14,
                            style: 'italic'
                        },
                        color: '#666',
                        padding: {
                            bottom: 20
                        }
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        padding: 12,
                        callbacks: {
                            label: function(context) {
                                return context.raw + '% retention after one week';
                            }
                        }
                    },
                    annotation: {
                        annotations: {
                            thresholdLine: {
                                type: 'line',
                                xMin: 50,
                                xMax: 50,
                                borderColor: '#E74C3C',
                                borderWidth: 2,
                                borderDash: [6, 4],
                                label: {
                                    display: true,
                                    content: 'Active learning threshold',
                                    position: 'start',
                                    backgroundColor: 'rgba(231, 76, 60, 0.9)',
                                    color: 'white',
                                    font: {
                                        size: 11,
                                        weight: 'bold'
                                    },
                                    padding: 6,
                                    yAdjust: -10
                                },
                                enter: function(ctx, event) {
                                    document.body.style.cursor = 'pointer';
                                    const tooltip = document.getElementById('annotationTooltip');
                                    tooltip.style.display = 'block';
                                    tooltip.style.left = event.x + 'px';
                                    tooltip.style.top = (event.y - 80) + 'px';
                                },
                                leave: function(ctx, event) {
                                    document.body.style.cursor = 'default';
                                    document.getElementById('annotationTooltip').style.display = 'none';
                                }
                            },
                            microsimBracket: {
                                type: 'box',
                                yMin: 3.6,
                                yMax: 5.4,
                                xMin: 95,
                                xMax: 100,
                                backgroundColor: 'rgba(65, 105, 225, 0.15)',
                                borderColor: '#4169E1',
                                borderWidth: 2,
                                borderRadius: 4
                            },
                            microsimLabel: {
                                type: 'label',
                                xValue: 97,
                                yValue: 4.5,
                                content: ['MicroSim', 'approaches'],
                                backgroundColor: 'transparent',
                                color: '#4169E1',
                                font: {
                                    size: 10,
                                    weight: 'bold'
                                },
                                textAlign: 'center',
                                rotation: -90
                            },
                            predictionNote: {
                                type: 'label',
                                xValue: 65,
                                yValue: 5.7,
                                content: '‚Üë Prediction dramatically increases retention',
                                backgroundColor: 'rgba(255, 215, 0, 0.2)',
                                color: '#B8860B',
                                font: {
                                    size: 11,
                                    weight: 'bold'
                                },
                                padding: {
                                    top: 4,
                                    bottom: 4,
                                    left: 8,
                                    right: 8
                                },
                                borderRadius: 4
                            }
                        }
                    }
                },
                animation: {
                    duration: 1500,
                    easing: 'easeOutQuart',
                    delay: function(context) {
                        return context.dataIndex * 150;
                    }
                }
            }
        });

        // Add source note below chart
        const sourceDiv = document.createElement('div');
        sourceDiv.className = 'source-note';
        sourceDiv.innerHTML = 'Based on synthesis of educational research (Hake, 1998; Freeman et al., 2014; Chi & Wylie, 2014)';
        document.querySelector('.chart-container').appendChild(sourceDiv);
    </script>
</body>
</html>
