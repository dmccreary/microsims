# Skill Usage Report

**Project:** MicroSims Intelligent Textbook
**Log File:** `.claude/activity-logs/skill-usage.jsonl`
**Analysis Date:** 2025-11-25
**Report Generated By:** `bk-analyze-skill-usage` (updated v1.3)

## Executive Summary

This project used **6 different skills** across **16 invocations** to generate the intelligent textbook content. The chapter-content-generator skill was the workhorse, accounting for 69% of all skill usage. Total tokens processed: **894,400** with **83.5% cache hit ratio**.

## Skill Usage Summary

| Skill | Invocations | % of Total | Total Tokens |
|-------|-------------|------------|--------------|
| chapter-content-generator | 11 | 69% | 720,400 |
| faq-generator | 1 | 6% | 77,200 |
| glossary-generator | 1 | 6% | 24,300 |
| quiz-generator | 1 | 6% | 24,300 |
| install-learning-graph-viewer | 1 | 6% | 24,100 |
| book-chapter-generator | 1 | 6% | 24,000 |
| **Total** | **16** | **100%** | **894,400** |

## Token Usage Analysis

### By Skill

| Skill | Invocations | Total Tokens | Cache Read | Cache Creation |
|-------|-------------|--------------|------------|----------------|
| chapter-content-generator | 11x | 720.4K | 608.4K | 111.1K |
| faq-generator | 1x | 77.2K | 76.8K | 287 |
| quiz-generator | 1x | 24.3K | 18.0K | 6.2K |
| glossary-generator | 1x | 24.3K | 18.0K | 6.3K |
| install-learning-graph-viewer | 1x | 24.1K | 12.6K | 11.4K |
| book-chapter-generator | 1x | 24.0K | 12.6K | 11.4K |

### Cache Efficiency

| Metric | Value |
|--------|-------|
| Total Tokens Processed | 894,400 |
| Total Cache Reads | 746,400 tokens |
| Total Cache Creations | 146,700 tokens |
| Cache Hit Ratio | 83.5% |
| Estimated Cost Savings | ~$0.11 |

The high cache read ratio (83.5%) indicates efficient reuse of context across skill invocations, significantly reducing API costs.

## Timeline of Skill Usage

All skill usage occurred on **2025-11-25** during a single intensive content generation session.

| Time | Skill | Session | Purpose |
|------|-------|---------|---------|
| 12:37 | install-learning-graph-viewer | d4c8f949 | Setup learning graph viewer |
| 13:05 | book-chapter-generator | 6b0472be | Generate chapter structure |
| 13:59 | chapter-content-generator | af54df54 | Begin content generation |
| 14:27 | chapter-content-generator | 996feb28 | Continue chapter content |
| 14:34 | chapter-content-generator | 996feb28 | Continue chapter content |
| 14:54 | chapter-content-generator | 116ca9a5 | Generate chapter content |
| 15:09 | chapter-content-generator | 633641a2 | Begin extended session |
| 17:38 | chapter-content-generator | 633641a2 | Continue generation |
| 18:25 | chapter-content-generator | 633641a2 | Continue generation |
| 18:31 | chapter-content-generator | 633641a2 | Continue generation |
| 18:35 | chapter-content-generator | 633641a2 | Continue generation |
| 18:41 | chapter-content-generator | 633641a2 | Continue generation |
| 19:16 | chapter-content-generator | 633641a2 | Final chapter content |
| 19:30 | glossary-generator | b7b426b0 | Generate glossary |
| 19:38 | faq-generator | b7b426b0 | Generate FAQs |
| 19:52 | quiz-generator | fd129d20 | Generate quizzes |

## Session Analysis

| Session ID | Skills Used | Total Tokens | Duration |
|------------|-------------|--------------|----------|
| 633641a2 | chapter-content-generator (7x) | 502,254 | 4h 7m |
| b7b426b0 | glossary-generator, faq-generator | 101,520 | 8m |
| 996feb28 | chapter-content-generator (2x) | 143,578 | 7m |
| fd129d20 | quiz-generator | 24,343 | ongoing |
| others | various | 47,448 | various |

## Skill Descriptions

| Skill | Purpose | Output |
|-------|---------|--------|
| **chapter-content-generator** | Generates detailed chapter content from outlines | 14 chapter index.md files |
| **glossary-generator** | Creates glossary from learning graph concepts | glossary.md with 200+ terms |
| **faq-generator** | Generates FAQs from course content | faqs.md with 100+ questions |
| **quiz-generator** | Creates chapter quizzes aligned to Bloom's | 14 quiz.md files (168 questions) |
| **book-chapter-generator** | Creates chapter structure and outlines | Chapter structure planning |
| **install-learning-graph-viewer** | Installs interactive graph visualization | Learning graph viewer app |

## Insights

### Most Valuable Skills

1. **chapter-content-generator** - Generated all 14 chapters of detailed content, representing the core of the textbook. High token usage reflects comprehensive content generation.

2. **quiz-generator** - Created 168 assessment questions across 14 chapters with Bloom's Taxonomy alignment and concept mapping.

3. **faq-generator** - Produced 100+ FAQs from course content analysis.

### Efficiency Observations

- **Single-day generation**: All content was generated in one intensive session
- **Session continuity**: Session 633641a2 maintained context across 7 skill invocations
- **Cache optimization**: 83% cache hit ratio minimized redundant token usage

### Recommendations

1. **Track actual duration**: The current hook captures skill loading time (always ~0s), not actual work time. Consider tracking session-level duration from first prompt to last tool call. *(Known limitation)*

2. ~~**Add cost estimation**: With token counts available, add cost estimates based on current API pricing.~~ ✅ **Fixed in v1.3**

3. ~~**Capture prompts**: The prompt field in logs appears incomplete. Improve prompt capture for better analysis.~~ ✅ **Fixed in v1.3** - Now correlates prompts by timestamp

4. **Add output metrics**: Track files created, lines written, and other output metrics per skill. *(Future enhancement)*

## Data Quality Notes

The `duration_seconds` field in the JSONL consistently shows "0" because it measures skill loading time rather than the actual time spent working with the skill. True duration can be estimated from session timestamps:

- Longest session: 633641a2 ran from 15:09 to 19:16 (4+ hours)
- Most productive session: Generated 7 chapters of content

---

*This report was generated by analyzing the raw `.claude/activity-logs/skill-usage.jsonl` file. The standard `bk-analyze-skill-usage` script requires the log directory path as an argument when run from a different project directory.*
